<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta name="google-site-verification" content="NqacV5tHWoxzRi2H7KcEVCWMuxSnch23EM-vzsEV3h8" />
  <meta name="generator" content="Hugo 0.111.3" />
  <meta charset="utf-8">
  <title>配置自己的 Linux 云服务器 · Wing</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="近期趁着 6.18 促销新采购了一台阿里云的 Linux 服务器，把配置过程记录如下 采购云服务器 采购平台：阿里云 腾讯云 百度云 Linux 系统：Ubuntu 配置云服务器 登录 Linux" />


<link rel="canonical" href="/2019/06/21/%E9%85%8D%E7%BD%AE%E8%87%AA%E5%B7%B1%E7%9A%84-linux-%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" />
<link rel="icon" href="https://cdn.jsdelivr.net/gh/fy975713384/cloud-img@main/blog/wing_icon.png" />
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.2.0/css/all.css" integrity="sha384-DtgO3znmI27ZsBJLf6ASdUIQnb+d8RKb/z/fYL/E0f2NY/8nvfDQmQ6NkXmuoepn" crossorigin="anonymous">
<link rel="stylesheet" href="/css/den.css">

<link rel="stylesheet" href="/css/custom.css">




<meta property="og:title" content="配置自己的 Linux 云服务器" />
<meta property="og:description" content="近期趁着 6.18 促销新采购了一台阿里云的 Linux 服务器，把配置过程记录如下 采购云服务器 采购平台：阿里云 腾讯云 百度云 Linux 系统：Ubuntu 配置云服务器 登录 Linux" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2019/06/21/%E9%85%8D%E7%BD%AE%E8%87%AA%E5%B7%B1%E7%9A%84-linux-%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-21T15:30:40+08:00" />
<meta property="article:modified_time" content="2019-06-21T15:30:40+08:00" />
<meta itemprop="name" content="配置自己的 Linux 云服务器">
<meta itemprop="description" content="近期趁着 6.18 促销新采购了一台阿里云的 Linux 服务器，把配置过程记录如下 采购云服务器 采购平台：阿里云 腾讯云 百度云 Linux 系统：Ubuntu 配置云服务器 登录 Linux"><meta itemprop="datePublished" content="2019-06-21T15:30:40+08:00" />
<meta itemprop="dateModified" content="2019-06-21T15:30:40+08:00" />
<meta itemprop="wordCount" content="742">
<meta itemprop="keywords" content="提效工具,服务配置," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="配置自己的 Linux 云服务器"/>
<meta name="twitter:description" content="近期趁着 6.18 促销新采购了一台阿里云的 Linux 服务器，把配置过程记录如下 采购云服务器 采购平台：阿里云 腾讯云 百度云 Linux 系统：Ubuntu 配置云服务器 登录 Linux"/>
</head>
<body>
  
  <div class="header-container" style="background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('https://cdn.jsdelivr.net/gh/fy975713384/cloud-img@main/blog/background.jpg'); background-position: center; background-size: cover;">
  <div class="container">
  <nav class="header-nav navbar navbar-expand-md navbar-dark light-dark">
    <div class="header-logo navbar-brand">
      
        <a class="float-left" href="/">
      
        
        
          Wing
         
      </a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="nav-menu collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        
          <li class="nav-item">
            
              
                <a class="nav-link" href="/category/notes/">笔记</a>
              
            
          </li>
        
          <li class="nav-item">
            
              
                <a class="nav-link" href="/category/travals/">游记</a>
              
            
          </li>
        
        
      </ul>
    </div>
  </nav>
</div>

<div class="container header-wrapper">
  <div class="row">
    <div class="col-lg-12">
      <div class="header-content">
        <h1 class="header-title">配置自己的 Linux 云服务器</h1>
        <p class="header-date">作者：
          潘峰 /
        
        2019-06-21
          / 分类：
          <a href="/category/notes/">Notes</a>
        </p>
        
        <div class="header-underline"></div>
        
          <div class="clearfix"></div>
          <p class="float-right header-tags">
              <i class="fas fa-tags" aria-hidden="true"></i>
              <a href="/tag/%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE/">服务配置</a>, 
                <a href="/tag/%E6%8F%90%E6%95%88%E5%B7%A5%E5%85%B7/">提效工具</a>
          </p>
        
        

      </div>
    </div>
  </div>
</div>

  </div>
  <main>
<div class="container content">
  <article>
  <blockquote>
<p>近期趁着 6.18 促销新采购了一台阿里云的 Linux 服务器，把配置过程记录如下</p>
</blockquote>
<h2 id="采购云服务器">采购云服务器</h2>
<p>采购平台：阿里云 腾讯云 百度云<br>
Linux 系统：Ubuntu</p>
<h2 id="配置云服务器">配置云服务器</h2>
<h3 id="登录-linux-远程服务器">登录 Linux 远程服务器</h3>
<p>在本地终端使用 <code>ssh</code> 命令连接服务器并输入密码登录（以下使用 <!-- raw HTML omitted --> 代指服务器 ip）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ssh root@&lt;hostname&gt;
</span></span></code></pre></div><h3 id="配置个性化警告语">配置个性化警告语</h3>
<p>修改 Linux 系统远程登录欢迎语（<code>/etc/motd</code> 文件记录了用户登录后警告信息，并且不区分本地和远程）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># vim /etc/motd</span>
</span></span></code></pre></div><p>复制以下内容，或使用其它更加<a href="https://blog.csdn.net/ydk888888/article/details/81563608">有趣的代码注释</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                  ___====-_  _-====___
</span></span><span class="line"><span class="cl">            _--^^^#####//      \\#####^^^--_
</span></span><span class="line"><span class="cl">        _-^##########// (    ) \\##########^-_
</span></span><span class="line"><span class="cl">        -############//  |\^^/|  \\############-
</span></span><span class="line"><span class="cl">      _/############//   (@::@)   \\############\_
</span></span><span class="line"><span class="cl">    /#############((     \\//     ))#############\
</span></span><span class="line"><span class="cl">    -###############\\    (oo)    //###############-
</span></span><span class="line"><span class="cl">  -#################\\  / VV \  //#################-
</span></span><span class="line"><span class="cl">  -###################\\/      \//###################-
</span></span><span class="line"><span class="cl">_#/|##########/\######(   /\   )######/\##########|\#_
</span></span><span class="line"><span class="cl">|/ |#/\#/\#/\/  \#/\##\  |  |  /##/\#/  \/\#/\#/\#| \|
</span></span><span class="line"><span class="cl">`  |/  V  V  `   V  \#\| |  | |/#/  V   &#39;  V  V  \|  &#39;
</span></span><span class="line"><span class="cl">    `   `  `      `   / | |  | | \   &#39;      &#39;  &#39;   &#39;
</span></span><span class="line"><span class="cl">                    (  | |  | |  )
</span></span><span class="line"><span class="cl">                    __\ | |  | | /__
</span></span><span class="line"><span class="cl">                  (vvv(VVV)(VVV)vvv)
</span></span><span class="line"><span class="cl">                      如未被授权
</span></span><span class="line"><span class="cl">                      请您即刻退出！
</span></span></code></pre></div><p>修改 Ubuntu 系统的默认欢迎语
注释掉 <code>10-help-text</code> 文件中的相关信息（如果有）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># vim /etc/update-motd.d/10-help-text</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#printf &#34;\n&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#printf &#34; * Documentation:  https://help.ubuntu.com\n&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#printf &#34; * Management:     https://landscape.canonical.com\n&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#printf &#34; * Support:        https://ubuntu.com/advantage\n&#34;</span>
</span></span></code></pre></div><p>注释掉 <code>80-livepatch</code> 文件中的相关信息（如果有）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># vim /etc/update-motd.d/80-livepatch</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#case &#34;$livepatch_status&#34; in</span>
</span></span><span class="line"><span class="cl"><span class="c1">#    &#34;disabled (not available)&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        # do nothing</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        ;;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#    &#34;enabled&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        echo</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        echo &#34; * Canonical Livepatch is enabled.&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        print_status &#34;${check_state}&#34; &#34;${patch_state}&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        ;;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#    &#34;disabled&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        echo</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        echo &#34; * Canonical Livepatch is available for installation.&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        echo &#34;   - Reduce system reboots and improve kernel security. Activate at:&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        echo &#34;     https://ubuntu.com/livepatch&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        ;;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#    *)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        echo</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        echo &#34; * Canonical Livepatch is in an unknown state.&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        echo &#34;   - Please see /var/log/syslog for more information.&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        echo &#34;     Status: \&#34;$livepatch_status\&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        ;;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#esac</span>
</span></span></code></pre></div><h3 id="配置用户">配置用户</h3>
<p>新建用户（以下使用 <!-- raw HTML omitted --> 代指实际用户名）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># useradd -r -m -s /bin/bash &lt;username&gt;</span>
</span></span></code></pre></div><p>设置用户密码</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># passwd &lt;username&gt;</span>
</span></span></code></pre></div><p>检查用户是否创建成功</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># cat /etc/passwd</span>
</span></span></code></pre></div><p>给用户配置免密码 <code>sudo</code> 权限</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># vim /etc/sudoers</span>
</span></span></code></pre></div><p>将文件中下面的这一段</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl"># Allow members of group sudo to execute any command
</span></span><span class="line"><span class="cl">%sudo   ALL=(ALL:ALL) ALL
</span></span></code></pre></div><p>修改为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl"># Allow members of group sudo to execute any command
</span></span><span class="line"><span class="cl">%sudo   ALL=(ALL) NOPASSWD:ALL
</span></span></code></pre></div><p>然后将新建的 <!-- raw HTML omitted --> 用户加入 sudo 用户组</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># usermod -a -G sudo &lt;username&gt;</span>
</span></span></code></pre></div><p>配置命令提示符 hostname 的显示</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># vim /etc/hostname</span>
</span></span></code></pre></div><p>将内容改成自己想要的如 ali-ecs
重启服务器</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># reboot</span>
</span></span></code></pre></div><h3 id="配置-ssh-key-方式登录-linux-远程服务器">配置 SSH Key 方式登录 Linux 远程服务器</h3>
<p>登录新建的 <!-- raw HTML omitted --> 用户</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># ssh &lt;username&gt;@&lt;hostname&gt;</span>
</span></span></code></pre></div><p>输入之前设置的密码进行登录
创建 <code>.ssh</code> 文件夹和 <code>authorized_keys</code> 并授予权限</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ mkdir ~/.ssh <span class="o">&amp;&amp;</span> touch ~/.ssh/authorized_keys
</span></span><span class="line"><span class="cl">$ chmod <span class="m">700</span> ~/.ssh <span class="o">&amp;&amp;</span> chmod <span class="m">600</span> ~/.ssh/authorized_keys
</span></span></code></pre></div><p>然后将本地机器 <code>id_rsa.pub</code> 中的文本复制添加到服务器的 <code>authorized_keys</code> 文件里
下次登录则无需输入密码
另外还可通过在本地设置 .ssh 目录下配置 config 文件，通过以下命令直接登录</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ssh &lt;username&gt;
</span></span></code></pre></div>
  </article>

  
  
    
    
    
  
  
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/gitalk/1.7.0/gitalk.css" />
<script src="https://cdn.bootcdn.net/ajax/libs/gitalk/1.7.0/gitalk.min.js"></script>
<div id="gitalk-container"></div>
<script>
  const gitalk = new Gitalk({
    id: '配置自己的Linux云服务器', 
    owner: 'fy975713384',
    repo: 'fy975713384.github.io', 
    clientID: '35afb85e4c521d6dbeb8',
    clientSecret: '463c9ec266980fd7358a11479beda5284ecf9f71',
    admin: ['fy975713384'],
    distractionFreeMode: false 
  })
  gitalk.render('gitalk-container')
</script>







</div>

  </main><div class="footer gradient-2">
  <div class="container footer-container ">
    <div class="row">
      <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
        <div class="footer-title">网站地图</div>
        <ul class="list-unstyled">
            
              
                <li><a href="/tags/">标签</a></li>
              
              
                <li><a href="/categories/">分类</a></li>
              
            
            
            
            <li><a rel="alternate" type="application/rss&#43;xml" href="/index.xml"><i class="fas fa-rss-square"></i> RSS订阅</a></li>
            
            
            
        </ul>
      </div>
      <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
        
        <div class="footer-title">社群</div>
        <ul class="list-unstyled">
          
          <li><a href="https://github.com/fy975713384" rel="noopener" target="_blank">GitHub</a></li>
          
          <li><a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=NFVOQVgaUnRSW0xZVV1YGldbWQ" rel="noopener" target="_blank">联系我</a></li>
          
        </ul>
        
      </div>
      <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
        
        <div class="footer-title">友链</div>
        <ul class="list-unstyled">
          
          <li><a href="/" rel="noopener" target="_blank">关于我</a></li>
          
          <li><a href="https://juejin.cn/user/3315782800904263" rel="noopener" target="_blank">掘金主页</a></li>
          
        </ul>
        
      </div> 
      <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
        <p class="pull-right text-right">
          <small><em>Proudly powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo</a></em></small><br/>
          <small><em>Theme - <a href="https://github.com/shaform/hugo-theme-den" rel="noopener" target="_blank">Den</a></em></small><br/>
          <small>
            &copy; 
            Pan Feng
            
              2017 -
            2023
          </small>
          
        </p>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.3.1/jquery.slim.min.js"
  integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
  integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"
  integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/mermaid/8.8.2/mermaid.min.js"></script>
<script>
  window.onload = function () {
    mermaid.initialize({ theme: 'neutral' })
    mermaid.init(undefined, '.language-mermaid')
  }
</script>
</body>
</html>
